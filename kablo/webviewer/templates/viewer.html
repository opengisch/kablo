{% load i18n %}
{% load static %}

<!DOCTYPE html>
<html>
    <head>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300..700&display=swap" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/ol@v9.1.0/dist/ol.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@v9.1.0/ol.css">
        <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'css/viewer/viewer.css' %}">
        <script src="{% static 'js/viewer/viewer.js' %}"></script>

    </head>
    <script>
        // FIXME: get the endpoint url from oapif
        host = "{{ request.scheme }}://{{ request.get_host }}"
    </script>
    <body onload="initMap(host);">
        <div id="map" class="map"></div>
        <div id="detailsDiv">
            <a id="detailsLink" href="" target="_blank">Voir les détails</a>
            <div id="detailsCable"></div>
        </div>
        <div id="infoDiv">
            <p>
                Ici vous pouvez explorer les données qui sont exactement les mêmes que lorsque vous les consultez sur QGIS ou QField.
                On sélectionnant un tube, vous pouvez voir la liste des câbles qu'il contient.
            </p>
        </div>
    </body>
</html>
